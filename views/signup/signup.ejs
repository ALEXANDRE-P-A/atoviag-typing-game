<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sign Up</title>
  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <!-- stylesheets -->
  <link rel="stylesheet" type="text/css" href="/public/css/reset.css">
  <link rel="stylesheet" type="text/css" href="/public/css/style.css">
  <!-- google icons -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
  <!-- google fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@300;400&family=Playfair+Display&family=Roboto+Condensed:wght@700&family=Roboto:wght@500&family=Tiro+Bangla&display=swap" rel="stylesheet">
</head>
<body>
  <!-- ----- ヘッダー(ここから) ----- -->
  <header>
    <nav>
      <a href="/">Atoviag Typing Game</a>
      <a href="/signup">
        <span class="btn_inside">
          <span class="material-symbols-outlined">login</span>
          <span class="btn_text">&nbsp;Sign Up</span>
        </span>
      </a>
    </nav>
  </header>
  <!-- ----- ヘッダー(ここまで) ----- -->

  <!-- ----- メイン(ここから) ----- -->
  <main class="container">
    <div class=" col-sm-10 col-lg-8 border-bottom mt-5 mb-3" style="margin: 0 auto;">
      <h1>Sign Up</h1>
    </div>
    <div class="row justify-content-center">
      <form method="post" action="/signup/confirm" class="col-sm-10 col-lg-8">
        <% if(error){ %>
          <div class="alert alert-danger">
          <% for(let item in error){ %>
            <div style="text-align: center;"><i class="fa fa-fw fa-exclamation-circle"></i><%= error[item] %></div>
          <% } %>
          </div>
        <% } %>
        <div class="form-group row mb-3">
          <label for="name" class="col-sm-4 col-form-label" style="text-align: center;">Username：</label>
          <div class="col-sm-8">
            <input type="text" id="name" name="name" class="form-control" placeholder="Please enter your name" value="<%= name %>" required/>
          </div>
        </div>
        <div class="form-group row mb-3">
          <label for="email" class="col-sm-4 col-form-label" style="text-align: center;">Email：</label>
          <div class="col-sm-8">
            <input type="email" id="email" name="email" class="form-control" placeholder="Please enter your email"  value="<%= email %>" required/>
          </div>
        </div>
        <div class="form-group row mb-3">
          <label for="reemail" class="col-sm-4 col-form-label" style="text-align: center;">Re-enter email：</label>
          <div class="col-sm-8">
            <input type="email" id="reemail" name="reemail" class="form-control" placeholder="Please re-enter your email"  value="<%= reemail %>" required/>
          </div>
        </div>
        <div class="form-group row mb-3" style="display: flex; justify-content: space-between; align-items: center;">
          <label for="password" class="col-sm-4 col-form-label" style="text-align: center;">New Password：</label>
          <div class="col-sm-8 pass_input_area">
            <input type="password" id="password" name="password" class="form-control pass_input" placeholder="Please enter a password" value="<%= password %>" required/>
            <button style="border-left: none; border-radius: 0  .25rem .25rem 0;" class="visibility">
              <span class="material-symbols-outlined pass_show_btn">visibility</span>
            </button>
          </div>
        </div>
        <div class="form-group row mb-3" style="display: flex; justify-content: space-between; align-items: center;">
          <label for="repassword" class="col-sm-4 col-form-label" style="text-align: center;">Re-enter new Password：</label>
          <div class="col-sm-8 pass_input_area">
            <input type="password" id="repassword" name="repassword" class="form-control pass_input" placeholder="Please re-enter a password" value="<%= repassword %>" required/>
            <button style="border-left: none; border-radius: 0  .25rem .25rem 0;" class="visibility">
              <span class="material-symbols-outlined pass_show_btn">visibility</span>
            </button>
          </div>
        </div>
        <div class="form-group row mb-3">
          <label for="age" class="col-sm-4 col-form-label" style="text-align: center;">Age</label>
          <div class="col-sm-8">
            <select class="form-control" id="age" name="age">
              <option value="0" <%= (parseInt(age) === 0 ? "selected" : "") %>>Click and select your age</option>
              <option value="1" <%= (parseInt(age) === 1 ? "selected" : "") %>>～ 9</option>
              <option value="2" <%= (parseInt(age) === 2 ? "selected" : "") %>>10 ～ 19</option>
              <option value="3" <%= (parseInt(age) === 3 ? "selected" : "") %>>20 ～ 29</option>
              <option value="4" <%= (parseInt(age) === 4 ? "selected" : "") %>>30 ～ 39</option>
              <option value="5" <%= (parseInt(age) === 5 ? "selected" : "") %>>40 ～ 49</option>
              <option value="6" <%= (parseInt(age) === 6 ? "selected" : "") %>>50 ～ 59</option>
              <option value="7" <%= (parseInt(age) === 7 ? "selected" : "") %>>60 ～ 69</option>
              <option value="8" <%= (parseInt(age) === 8 ? "selected" : "") %>>over 70</option>
            </select>
          </div>
        </div>
        <div class="form-group row mb-3">
          <label for="region" class="col-sm-4 col-form-label" style="text-align: center;">Region</label>
          <div class="col-sm-8">
            <select class="form-control" id="region" name="region">
              <option value="0" <%= (parseInt(region) === 0 ? 'selected' : '') %>>Click and select your region</option>
              <option value="1" <%= (parseInt(region) === 1 ? 'selected' : '') %>>Asia</option>
              <option value="2" <%= (parseInt(region) === 2 ? 'selected' : '') %>>West Asia</option>
              <option value="3" <%= (parseInt(region) === 3 ? 'selected' : '') %>>Central Asia</option>
              <option value="4" <%= (parseInt(region) === 4 ? 'selected' : '') %>>Eastern Europe</option>
              <option value="5" <%= (parseInt(region) === 5 ? 'selected' : '') %>>Europe</option>
              <option value="6" <%= (parseInt(region) === 6 ? 'selected' : '') %>>Mediterranean</option>
              <option value="7" <%= (parseInt(region) === 7 ? 'selected' : '') %>>West and Central Africa</option>
              <option value="8" <%= (parseInt(region) === 8 ? 'selected' : '') %>>Eastern and Southern Africa</option>
              <option value="9" <%= (parseInt(region) === 9 ? 'selected' : '') %>>Mexico, Central America and the Caribbean</option>
              <option value="10" <%= (parseInt(region) === 10 ? 'selected' : '') %>>South America</option>
              <option value="11" <%= (parseInt(region) === 11 ? 'selected' : '') %>>Washington D.C. Office</option>
              <option value="12" <%= (parseInt(region) === 12 ? 'selected' : '') %>>Oceania</option>
            </select>
          </div>
        </div>
        <div class="btn_field">
          <button type="submit">
            <span class="btn_inside">
              <span class="material-symbols-outlined">confirmation_number</span>
              <span class="btn_text">&nbsp;Confirm</span>
            </span>
          </button>
        </div>
      </form>
    </div>
  </main>
  <!-- ----- メイン(ここまで) ----- -->

  <!-- Bootstrap -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
  <script>
    const visibilityBtn = document.querySelectorAll(".visibility");
    const passInputs = document.querySelectorAll("input[type='password']");
    const passShowBtns = document.querySelectorAll(".pass_show_btn");

    visibilityBtn.forEach(btn => {
      btn.addEventListener("click", e => {
        e.preventDefault();
        if(passInputs[0].type == "password" &&  passInputs[1].type == "password"){
          passInputs.forEach(input => {
            input.type = "text";
          });
          passShowBtns.forEach(btn => {
            btn.textContent = "hide_source";
          });
        } else {
          passInputs.forEach(input => {
            input.type = "password";
          });
          passShowBtns.forEach(btn => {
            btn.textContent = "visibility";
          });
        }
      });
    });
  </script>
</body>
</html>